<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
      {% if site.logo_url %}
      <img src="{{ site.logo_url }}" alt="Logo" style="width:28px;height:28px;object-fit:contain" class="me-2">
      {% else %}
      <i class="bi bi-shop me-2"></i>
      {% endif %}
      <span class="fw-bold">{{ site.brand_name }}</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('store.products') }}">Shop</a></li>
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('store.cart') }}">Cart</a></li>
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('admin_branding') }}">Admin</a></li>
        <li class="nav-item ms-2">
          <button id="themeToggle" class="btn nav-btn-toggle">ðŸŒ™</button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<script>
(() => {
  const html = document.documentElement;
  const saved = localStorage.getItem('theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  html.dataset.theme = saved || (prefersDark ? 'dark' : 'light');
  document.getElementById('themeToggle')?.addEventListener('click', () => {
    html.dataset.theme = html.dataset.theme === 'dark' ? 'light' : 'dark';
    localStorage.setItem('theme', html.dataset.theme);
  });
})();
</script>
