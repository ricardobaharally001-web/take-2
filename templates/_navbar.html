<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
      {% if site.logo_url %}
      <img src="{{ site.logo_url }}" alt="Logo" style="width:28px;height:28px;object-fit:contain" class="me-2">
      {% else %}
      <i class="bi bi-shop me-2"></i>
      {% endif %}
      <span class="fw-bold">{{ site.brand_name }}</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('store.products') }}">Shop</a></li>
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('store.cart') }}">Cart</a></li>
        <li class="nav-item"><a class="nav-link nav-btn" href="{{ url_for('admin_branding') }}">Admin</a></li>
        <li class="nav-item ms-2">
          <button id="themeToggle" class="btn nav-btn-toggle">ðŸŒ™</button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<script>
(() => {
  const html = document.documentElement;
  const saved = localStorage.getItem('theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  html.dataset.theme = saved || (prefersDark ? 'dark' : 'light');
  document.getElementById('themeToggle')?.addEventListener('click', () => {
    html.dataset.theme = html.dataset.theme === 'dark' ? 'light' : 'dark';
    localStorage.setItem('theme', html.dataset.theme);
  });
})();
</script>
<style>
:root[data-theme="light"] { 
  --nav-bg:#f8f9fa; 
  --fg:#111827; 
  --nav-btn-bg: rgba(0, 0, 0, 0.05);
  --nav-btn-hover-bg: rgba(0, 0, 0, 0.1);
  --nav-btn-shadow: rgba(0, 0, 0, 0.25);
  --nav-btn-shadow-hover: rgba(0, 0, 0, 0.35);
}
:root[data-theme="dark"] { 
  --nav-bg:#0f172a; 
  --fg:#e5e7eb;
  --nav-btn-bg: rgba(255, 255, 255, 0.05);
  --nav-btn-hover-bg: rgba(255, 255, 255, 0.1);
  --nav-btn-shadow: rgba(0, 0, 0, 0.5);
  --nav-btn-shadow-hover: rgba(0, 0, 0, 0.7);
}
.navbar { background: var(--nav-bg); }
.navbar .nav-link, .navbar-brand { color: var(--fg) !important; }

/* Button-like styling for nav links */
.navbar .nav-btn {
  background: var(--nav-btn-bg) !important;
  border: 1px solid transparent !important;
  border-radius: 8px !important;
  padding: 8px 16px !important;
  margin: 0 4px !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 3px 6px var(--nav-btn-shadow), 0 1px 3px rgba(0, 0, 0, 0.15) !important;
  text-decoration: none !important;
}

.navbar .nav-btn:hover {
  background: var(--nav-btn-hover-bg) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 12px var(--nav-btn-shadow-hover), 0 2px 6px rgba(0, 0, 0, 0.2) !important;
  color: var(--fg) !important;
}

/* Dark mode toggle button styling */
.navbar .nav-btn-toggle {
  background: var(--nav-btn-bg) !important;
  border: 1px solid transparent !important;
  border-radius: 8px !important;
  padding: 8px 12px !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 3px 6px var(--nav-btn-shadow), 0 1px 3px rgba(0, 0, 0, 0.15) !important;
  color: var(--fg) !important;
}

.navbar .nav-btn-toggle:hover {
  background: var(--nav-btn-hover-bg) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 12px var(--nav-btn-shadow-hover), 0 2px 6px rgba(0, 0, 0, 0.2) !important;
  color: var(--fg) !important;
}
</style>
